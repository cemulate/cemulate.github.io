<!doctype html>
<html>

<head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
<meta name="viewport" content="width=device-width, initial-scale=1">

  <title> Exercise 2.3.12 |  Chase Meadors</title>
<meta name="description" content=" The category of sets with partial functions is equivalent to the category of pointed sets ">
  <link rel="stylesheet" href="/styles/main.css">
  
  
</head>

<body class="math-body">
  <div class="container">
    <div class="columns">
      <div class="column">
        <div class="math-container">
          <h4 class="title is-3">Exercise 2.3.12</h4>
          <div class="content">
             <p>For sets <script type="math/tex">A</script> and <script type="math/tex">B</script>, consider a <em>partial function</em> from <script type="math/tex">A</script> to <script type="math/tex">B</script> to be a pair <script type="math/tex">(S,f)</script> where <script type="math/tex">S \subseteq A</script> and <script type="math/tex">f</script> is a normal function <script type="math/tex">S \rightarrow B</script>.
This captures the notion that the partial function is only &#39;defined&#39; on <script type="math/tex">S</script>.
Let <script type="math/tex">\mathbf{Par}</script> be the category of sets with maps being partial functions.
Let <script type="math/tex">\mathbf{Set}_*</script> be the category of sets with distinguished elements, with maps being functions that preserve distinguished elements.</p>
<p><strong>Theorem</strong>:</p>
<script type="math/tex; mode=display">\mathbf{Par}$$ is equivalent to $$\mathbf{Set}_*$$.


*Proof*:
First, we write down a functor $$T : \mathbf{Par} \rightarrow \mathbf{Set}_*$$ that 'completes' a partial function into a regular (total function) by adding a special element to the sets.
In particular, for a set $$A$$ let $$T(A) = (A \cup \set{\bot_A}, \bot_A)$$.
We add an element to the set and quite literally *distinguish* it because it is special.
For a map $$(S, f) : A \rightarrow B$$, let</script><p>T(S,f) = a \mapsto \left{ \begin{array}{lr}
f(s) &amp; a \in S \
\bot_B &amp; \text{otherwise}
\end{array} \right.</p>
<script type="math/tex; mode=display">

Note that this map takes $$\bot_A$$ to $$\bot_B$$ so it does preserve distinguished elements.

Define $$N : \mathbf{Set}_* \rightarrow \mathbf{Par}$$ as follows:
For a pointed set $$(A, x)$$ let $$N(A, x) = A \backslash x$$.
For a point-preserving map $$f : (A, x) \rightarrow (B, y)$$ let $$N(f) = (f^{-1}(B \backslash y), \hat{f})$$, where $$\hat{f}$$ is simply the restriction of $$f$$ to the set $$f^{-1}(B \backslash y)$$.
This is well-defined precisely because $$f^{-1}(B \backslash y)$$ certainly does not contain $$x$$, and certainly $$f$$ does not send anything in $$f^{-1}(B \backslash y)$$ to $$y$$!

We wish to define $$\eta : 1 \rightarrow NT$$.
So for $$A$$ a set $$A$$, we need the component $$\eta_A : A \rightarrow NTA$$, but since $$NTA = A$$, we just have $$\eta_A : A \rightarrow A$$.
We make the obvious choice then and let $$\eta_A = (A, 1_A)$$, which is the identity arrow on $$A$$ in $$\mathbf{Par}$$.
Let's verify that this is actually a natural transformation.
Let $$(S,f) : A \rightarrow B$$ be a map in $$\mathbf{Par}$$.
We need $$\eta_B \circ (S, f) = NT(S, f) \circ \eta_A$$, but this follows immediately because $$NT(S, f) = (S, f)$$ and $$\eta_A$$ and $$\eta_B$$ are identity arrows.
So we have naturality.
Furthermore every $$\eta_A$$ is clearly an isomorphism so $$\eta$$ is a natural isomorphism.

We will now define $$\varepsilon : TN \rightarrow 1$$.
We need $$\varepsilon_{(A, x)} : TN(A, x) \rightarrow (A, x)$$ a point-preserving map.
Note that $$TN(A, x)$$ is the set $$A$$ with $$x$$ replaced by $$\bot_A$$, and $$\bot_A$$ distinguished instead of $$x$$.
So, $$\varepsilon_{(A,x)}$$ be the map sending $$\bot_A \mapsto x$$ and $$a \mapsto a$$ for all other elements $$a$$.
Let $$f : (A,x) \rightarrow (B,y)$$ be a map in $$\mathbf{Set}_*$$.
To check naturality we need</script><p>\varepsilon<em>{(B, y)} \circ TN(f) = f \circ \varepsilon</em>{(A,x)} : TN(A,x) \rightarrow (B,y)</p>
<script type="math/tex; mode=display">

Let's examine $$TN(f)$$ -- it can be described explicity as:</script><p>TN(f) = a \mapsto \left{ \begin{array}{lr}
f(a) &amp; f(a) \neq y \
\bot_B &amp; \text{otherwise}
\end{array} \right.</p>
<p>$$</p>
<p>Let <script type="math/tex">a \in TN(A,x)</script>.
We will consider where <script type="math/tex">a</script> is sent by the left-hand side and the right-hand side by considering cases.
First suppose <script type="math/tex">a \neq \bot_A</script>, and <script type="math/tex">f(a) = y</script>.
Then the right-hand side sends <script type="math/tex">a</script> to <script type="math/tex">y</script>, and the left-hand side sends <script type="math/tex">a \mapsto \bot_B \mapsto y</script>.
Suppose <script type="math/tex">a \neq \bot_A</script> and <script type="math/tex">f(a) \neq y</script>.
Then the right-hand side sends <script type="math/tex">a</script> to <script type="math/tex">f(a)</script>, and so does the left.
Finally, suppose <script type="math/tex">a = \bot_A</script>.
Then the right-hand side sends <script type="math/tex">a \mapsto x \mapsto y</script>.
The left-hand side sends <script type="math/tex">a \mapsto \bot_B \mapsto y</script>.
So the left and right-hand side are identical in all cases, so they must represent the same map.
Then, we have naturality.
Furthermore, <script type="math/tex">TN(A,x)</script> and <script type="math/tex">(A,x)</script> are certainly equal cardinality, so they are in bijection and all components of <script type="math/tex">\varepsilon</script> are isomorphisms.
Thus <script type="math/tex">\varepsilon</script> is a natural isomorphism.</p>
<p>So, we have shown an equivalence between <script type="math/tex">\mathbf{Par}</script> and <script type="math/tex">\mathbf{Set}_*</script>.</p>
 
          </div>
        </div>
      </div>
    </div>
  </div>

    <script type="text/javascript" src="/js/mathjax_config.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  
</body>

</html>
